"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2057],{2057:(A,m,g)=>{g.r(m),g.d(m,{RegistroPageModule:()=>T});var h=g(6814),d=g(95),r=g(3582),u=g(4875),c=g(5861),e=g(5879),C=g(3076),v=g(7862),P=g(6973);function f(n,a){const l="object"==typeof a;return new Promise((o,t)=>{let i,s=!1;n.subscribe({next:p=>{i=p,s=!0},error:t,complete:()=>{s?o(i):l?o(a.defaultValue):t(new P.K)}})})}var M=g(553),_=g(9862);let b=(()=>{var n;class a{constructor(o){this.http=o}getRegion(){var o=this;return(0,c.Z)(function*(){return yield f(o.http.get(`${M.N.apiUrl}region`))})()}getComuna(o){var t=this;return(0,c.Z)(function*(){return yield f(t.http.get(`${M.N.apiUrl}comuna/`+o))})()}}return(n=a).\u0275fac=function(o){return new(o||n)(e.LFG(_.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var R=g(2397);function Z(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&n){const l=a.$implicit;e.Q6J("value",l.id),e.xp6(1),e.Oqu(l.nombre)}}function y(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&n){const l=a.$implicit;e.Q6J("value",l.id),e.xp6(1),e.Oqu(l.nombre)}}const S=[{path:"",component:(()=>{var n;class a{constructor(o,t,s,i,p){this.auth=o,this.helperService=t,this.router=s,this.locationService=i,this.storageService=p,this.datos={nombre:"",apellido:"",email:"",password:"",confirmarPass:""},this.regiones=[],this.comunas=[],this.regionSeleccionado=0,this.comunaSeleccionada=0}ngOnInit(){this.cargarRegion(),this.cargarComuna()}register(){var o=this;return(0,c.Z)(function*(){const t=yield o.helperService.showLoading("Cargando..."),s=yield o.auth.register(o.datos.email,o.datos.password).catch(i=>{o.helperService.showAlert(i.message,"Error")});yield t.dismiss(),s&&(o.storageService.agregarUsuario({nombre:o.datos.nombre,apellido:o.datos.apellido,email:o.datos.email,region:o.regionSeleccionado,comuna:o.comunaSeleccionada}),o.helperService.showAlert("Usuario registrado","Exito"),o.router.navigateByUrl("/login"))})()}cargarRegion(){var o=this;return(0,c.Z)(function*(){const t=yield o.locationService.getRegion();o.regiones=t.data,console.log("REGION",o.regiones)})()}cargarComuna(){var o=this;return(0,c.Z)(function*(){const t=yield o.locationService.getComuna(o.regionSeleccionado);o.comunas=t.data})()}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(C.K),e.Y36(v.W),e.Y36(u.F0),e.Y36(b),e.Y36(R.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registro"]],decls:28,vars:11,consts:[[3,"translucent"],["slot","start",1,"back-buttom"],["text","Atr\xe1s","default-href","/"],[2,"background-color","#1f1f1f","color","white"],[1,"card-papa",3,"fullscreen"],[1,"card-hijo"],["type","text","label","Nombre","labelPlacement","floating","fill","outline","placeholder","Ingrese su nombre",3,"ngModel","ngModelChange"],["type","text","label","Apellido","labelPlacement","floating","fill","outline","laceholder","Ingrese su apellido",3,"ngModel","ngModelChange"],["type","email","label","Correo","labelPlacement","floating","fill","outline","placeholder","Ingrese su correo",3,"ngModel","ngModelChange"],["placeholder","Seleccione region",3,"ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Seleccione comuna",3,"ngModel","ngModelChange"],["type","password","label","Contrase\xf1a","labelPlacement","floating","fill","outline","placeholder","Ingrese su contrase\xf1a",3,"ngModel","ngModelChange"],["type","password","label","Confirmar Contrase\xf1a","labelPlacement","floating","fill","outline","placeholder","Confirme su contrase\xf1a",3,"ngModel","ngModelChange"],["expand","block",1,"botones",3,"click"],[3,"value"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Register"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"ion-card",5)(8,"ion-item")(9,"ion-input",6),e.NdJ("ngModelChange",function(i){return t.datos.nombre=i}),e.qZA()(),e.TgZ(10,"ion-item")(11,"ion-input",7),e.NdJ("ngModelChange",function(i){return t.datos.apellido=i}),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-input",8),e.NdJ("ngModelChange",function(i){return t.datos.email=i}),e.qZA()(),e.TgZ(14,"ion-list")(15,"ion-item")(16,"ion-select",9),e.NdJ("ionChange",function(){return t.cargarComuna()})("ngModelChange",function(i){return t.regionSeleccionado=i}),e.YNc(17,Z,2,2,"ion-select-option",10),e.qZA()()(),e.TgZ(18,"ion-list")(19,"ion-item")(20,"ion-select",11),e.NdJ("ngModelChange",function(i){return t.comunaSeleccionada=i}),e.YNc(21,y,2,2,"ion-select-option",10),e.qZA()()(),e.TgZ(22,"ion-item")(23,"ion-input",12),e.NdJ("ngModelChange",function(i){return t.datos.password=i}),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-input",13),e.NdJ("ngModelChange",function(i){return t.datos.confirmarPass=i}),e.qZA()(),e.TgZ(26,"ion-button",14),e.NdJ("click",function(){return t.register()}),e._uU(27,"Register"),e.qZA()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngModel",t.datos.nombre),e.xp6(2),e.Q6J("ngModel",t.datos.apellido),e.xp6(2),e.Q6J("ngModel",t.datos.email),e.xp6(3),e.Q6J("ngModel",t.regionSeleccionado),e.xp6(1),e.Q6J("ngForOf",t.regiones),e.xp6(3),e.Q6J("ngModel",t.comunaSeleccionada),e.xp6(1),e.Q6J("ngForOf",t.comunas),e.xp6(2),e.Q6J("ngModel",t.datos.password),e.xp6(2),e.Q6J("ngModel",t.datos.confirmarPass))},dependencies:[h.sg,d.JJ,d.On,r.YG,r.Sm,r.PM,r.W2,r.Gu,r.pK,r.Ie,r.q_,r.t9,r.n0,r.wd,r.sr,r.QI,r.j9,r.oU],styles:["ion-content[_ngcontent-%COMP%]{--background: #01162c;--overflow: hidden}ion-toolbar[_ngcontent-%COMP%]{--background: #1f1f1f}.ion-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.botones[_ngcontent-%COMP%]{margin:1rem;display:flex;justify-content:center;align-items:center;--background: #FBBB34;--color: white;font-weight:700}.card-papa[_ngcontent-%COMP%]{--background: #01162c}.card-papa[_ngcontent-%COMP%]   .card-hijo[_ngcontent-%COMP%]{--background: #01162c;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:500px;min-width:350px;margin:20px auto auto;padding:250px 10px}ion-item[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;margin-bottom:10px}"]}),a})()}];let J=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(S),u.Bz]}),a})(),T=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,d.u5,r.Pc,J]}),a})()}}]);